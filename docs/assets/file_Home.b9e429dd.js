import{o as i,c as r,a as s,t as y,n as $,u as N,b as F,d as U,r as p,e as Y,f as k,w as q,g as w,h as z,l as G,p as E,i as M,j as H,k as D,v as x,m as B,q as g,s as R,x as L,y as Q,z as I,A as J,B as K,C as P,F as W,D as X,E as Z,G as ss}from"./file_index.9fc17cc1.js";import{_ as es}from"./file_Message.05f93862.js";import{_ as S}from"./file__plugin-vue_export-helper.e718e6fb.js";const ts={class:"modal-card"},as={class:"modal-card-body"},A={__name:"Modalquestion",props:{modal:Object},emits:["yes","no"],setup(n,{emit:e}){const o=n,c=()=>{e("yes")},t=()=>{e("no")};return(l,a)=>(i(),r("div",{class:$(["modal",o.modal.isShow?"is-active":" "])},[s("div",{onClick:t,class:"modal-background"}),s("div",ts,[s("header",{class:"modal-card-head"},[s("button",{onClick:t,class:"delete","aria-label":"close"})]),s("section",as,y(o.modal.message),1),s("footer",{class:"modal-card-foot"},[s("button",{onClick:c,class:"button is-success"},"yes"),s("button",{onClick:t,class:"button is-danger"},"No")])])],2))}};const V=n=>(E("data-v-05fd4285"),n=n(),M(),n),os={class:"navbar rel section pb-0 pt-0",role:"navigation","aria-label":"main navigation "},ns=V(()=>s("div",{class:"navbar-brand"},[s("a",{role:"button",class:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},[s("span",{"aria-hidden":"true"}),s("span",{"aria-hidden":"true"}),s("span",{"aria-hidden":"true"})])],-1)),ls={id:"navbarBasicExample",class:"navbar-menu"},cs={class:"navbar-start"},is=V(()=>s("h1",{class:"title"},"AskYourTask",-1)),ds={class:"navbar-end"},rs={class:"navbar-item"},us={class:"buttons"},_s={key:0,class:"fa-solid fa-moon"},vs={key:1,class:"fa-solid fa-sun"},ms={__name:"Navbar",props:{task:Object},setup(n){const e=N(),o=F(),c=U(),t=p({message:"",type:"",isShow:!1}),l=p(!1),a=p({message:"\xBFQuieres salir de la aplicaci\xF3n?",isShow:!1}),_=()=>{a.value.isShow=!a.value.isShow,console.log(a.value.isShow)},v=async()=>{a.value.isShow=!a.value.isShow,await G()===!1?(t.value.message="Ha habido un error intentelo de nuevo m\xE1s tarde",t.value.type="is-danger",t.value.isShow=!0):(t.value.message="\xA1Hasta pronto!",t.value.type="is-success",t.value.isShow=!0,e.logout(),setTimeout(()=>{c.push({name:"login"})},1e3))},T=()=>{l.value=!l.value,o.isTheme=!o.isTheme,o.loadTheme()};return(h,f)=>{const b=Y("router-link");return i(),r("div",null,[s("nav",os,[ns,s("div",ls,[s("div",cs,[k(b,{to:{name:"home"},class:"navbar-item"},{default:q(()=>[is]),_:1})]),s("div",ds,[s("div",rs,[s("div",us,[s("button",{onClick:T,class:"button"},[l.value?w("",!0):(i(),r("i",_s)),l.value?(i(),r("i",vs)):w("",!0)]),s("button",{onClick:_,class:"button is-danger"},"Log Out")])])])]),k(A,{onYes:v,onNo:_,modal:a.value},null,8,["modal"]),t.value.isShow?(i(),z(es,{key:0,class:"abs",message:t.value.message,type:t.value.type},null,8,["message","type"])):w("",!0)])])}}},ps=S(ms,[["__scopeId","data-v-05fd4285"]]);const ks={},fs=n=>(E("data-v-d87c8d75"),n=n(),M(),n),hs={class:"footer"},bs=fs(()=>s("div",{class:"content has-text-centered"},[s("p",null,[s("span",null,"AskYourTask"),H(" by"),s("span",null," Alba Garcia Gonzalez.")])],-1)),gs=[bs];function ys(n,e){return i(),r("footer",hs,gs)}const ws=S(ks,[["render",ys],["__scopeId","data-v-d87c8d75"]]);const O=n=>(E("data-v-322b53c0"),n=n(),M(),n),Ts={class:"modal is-active"},$s={class:"modal-card"},Ss={class:"modal-card-body"},Cs={class:"card-content"},Ds=O(()=>s("label",{class:"modal-label",for:""},"Task name",-1)),xs={class:"card-content"},Es=O(()=>s("label",{class:"modal-label",for:""},"Task description",-1)),Ms={__name:"Modaledit",props:{modal:Object,taskEdited:Object},emits:["done","cancel"],setup(n,{emit:e}){const o=n,c=()=>{e("done")},t=()=>{e("cancel")};return(l,a)=>(i(),r("div",Ts,[s("div",{onClick:a[0]||(a[0]=(..._)=>l.onNo&&l.onNo(..._)),class:"modal-background"}),s("div",$s,[s("header",{class:"modal-card-head"},[s("button",{onClick:t,class:"delete","aria-label":"close"})]),s("section",Ss,[s("header",Cs,[Ds,D(s("input",{"onUpdate:modelValue":a[1]||(a[1]=_=>o.taskEdited.title=_),class:"input is-success"},null,512),[[x,o.taskEdited.title]])]),s("div",xs,[Es,D(s("textarea",{"onUpdate:modelValue":a[2]||(a[2]=_=>o.taskEdited.description=_),class:"input is-success",type:"text",placeholder:"Task"}," ",512),[[x,o.taskEdited.description]])])]),s("footer",{class:"modal-card-foot"},[s("button",{onClick:c,class:"button is-success"},"Done"),s("button",{onClick:t,class:"button is-danger"},"Cancel")])])]))}},Is=S(Ms,[["__scopeId","data-v-322b53c0"]]),Ns=n=>{const e=Math.floor(n/1e3),o=Math.floor(e/60),c=Math.floor(o/60),t=Math.floor(c/24);return{seconds:e,minutes:o,hours:c,days:t}},Bs=n=>{let e=Math.floor(new Date(n)-new Date);e>0&&(e=0);const{seconds:o,minutes:c,hours:t,days:l}=Ns(e),a=new Intl.RelativeTimeFormat("en-EN",{numeric:"auto"});return o>-60?a.format(o,"seconds"):c>-60?a.format(c,"minutes"):t>-24?a.format(t,"hours"):a.format(l,"days")};const As={class:"card-header-title"},Vs={class:"card-content"},Os={class:"time",datetime:"2016-1-1"},js={key:0,class:"card-footer"},Fs={key:1,class:"card-footer"},Us={key:1},Ys={__name:"Task",props:{task:Object},setup(n){const e=n,o=B(),c=p(!1),t=p(!1),l=p({message:"\xBFEst\xE1s seguro?",isShow:!1}),a=p({title:e.task.title,description:e.task.description,isDone:!1});console.log("valor taskstore",o.tasks);const _=Bs(e.task.created_at),v=()=>{l.value.isShow=!l.value.isShow,console.log(l.value.isShow)},T=async()=>{l.value.isShow=!l.value.isShow,o.deleteTask(e.task.id),await R(e.task.id)},h=()=>{c.value=!0},f=async()=>{c.value=!1,a.value.title=e.task.title,a.value.description=e.task.description},b=async()=>{c.value=!1,await L(e.task.id,a.value),o.updateTask(e.task.id,a.value)},C=async()=>{a.value.isDone=!a.value.isDone,t.value=!t.value,await Q(e.task.id,a.value.isDone),o.updateTask(e.task.id,a.value),console.log("valor",e.task.id,a.value)};return(u,d)=>c.value?(i(),r("div",Us,[k(Is,{onDone:b,onCancel:f,modal:l.value,taskEdited:a.value},null,8,["modal","taskEdited"])])):(i(),r("div",{key:0,class:$(["card",e.task.isDone?"is-done ":""])},[s("header",{class:$(["card-header",e.task.isDone?" text-done":""])},[s("p",As," Task: "+y(e.task.title),1)],2),s("div",Vs,[s("div",{class:$(["content br",e.task.isDone?" text-done":""])},y(e.task.description),3),s("div",null,[s("time",Os,y(g(_)),1)])]),e.task.isDone?w("",!0):(i(),r("footer",js,[s("i",{onClick:C,class:"fa-solid fa-square-check card-footer-item"}),s("i",{onClick:h,class:"fa-regular fa-pen-to-square card-footer-item"}),s("i",{onClick:v,class:"fa-solid fa-trash card-footer-item"})])),e.task.isDone?(i(),r("footer",Fs,[s("i",{onClick:C,class:"fa-solid fa-rotate-right card-footer-item"}),s("i",{onClick:v,class:"fa-solid fa-trash card-footer-item"})])):w("",!0),k(A,{onYes:T,onNo:v,modal:l.value},null,8,["modal"])],2))}},qs=S(Ys,[["__scopeId","data-v-14447b7e"]]);const j=n=>(E("data-v-a66b3a1f"),n=n(),M(),n),zs={class:"section wholepage"},Gs=["value","max"],Hs={class:"cen"},Rs={class:"addtask-position"},Ls={class:"button-circle"},Qs={key:0,class:"mb-2"},Js={class:"p-2"},Ks=j(()=>s("label",{for:""},"Task name",-1)),Ps={class:"p-2"},Ws=j(()=>s("label",{for:""},"Task",-1)),Xs={class:"mb-2 mt-2"},Zs={class:"columns is-multiline is-mobile"},se={__name:"Addtask",setup(n){const e=N(),o=B(),c=p(!1),t=p({user_id:e.id,title:"",description:""}),l=p(!1),a=()=>{c.value=!0},_=()=>{c.value=!1},v=p(2),T=I(()=>{if(v.value===0)return o.tasks.filter(u=>u.isDone===!1);if(v.value===1)return o.tasks.filter(u=>u.isDone===!0);if(v.value===2)return o.tasks}),h=I(()=>o.tasks.length),f=I(()=>o.tasks.filter(d=>d.isDone===!0).length);J(()=>f.value,u=>{console.log("watch",f.value),l.value=!l.value});const b=async()=>{const u=await Z();return o.setTask(u),console.log(u),u},C=async()=>{c.value=!1,console.log(t.value.description),await ss(t.value),await b(),t.value.description="",t.value.title=""};return K(async()=>{await b()}),(u,d)=>(i(),r("div",zs,[s("div",null,[s("progress",{class:"progress mt-2 mb-6",value:g(f),max:g(h)},null,8,Gs)]),s("div",Hs,[s("div",Rs,[s("div",Ls,[s("button",{onClick:a,class:"button is-success"},"Add new task"),s("div",{class:$(["animate__animated animate__fast circle",l.value?"animate__bounceInDown":" animate__bounceInUp"])},y(g(f))+"/"+y(g(h)),3)]),c.value?(i(),r("div",Qs,[s("form",{onSubmit:d[2]||(d[2]=P((...m)=>u.onSubmit&&u.onSubmit(...m),["prevent"]))},[s("div",Js,[Ks,D(s("input",{"onUpdate:modelValue":d[0]||(d[0]=m=>t.value.title=m),class:"input is-success",type:"text",placeholder:"Task name"},null,512),[[x,t.value.title]])]),s("div",Ps,[Ws,D(s("textarea",{"onUpdate:modelValue":d[1]||(d[1]=m=>t.value.description=m),class:"input is-success",type:"text",placeholder:"Task"}," ",512),[[x,t.value.description]])]),s("div",{class:"buttons-centered"},[s("button",{onClick:C,class:"button is-success",type:"submit"},"Done"),s("button",{onClick:_,class:"button is-danger ml-2",type:"submit"},"Cancel")])],32)])):w("",!0)])]),s("div",null,[s("div",Xs,[s("button",{onClick:d[3]||(d[3]=m=>v.value=0),class:"button mr-2"},"To do"),s("button",{onClick:d[4]||(d[4]=m=>v.value=1),class:"button mr-2"},"Done"),s("button",{onClick:d[5]||(d[5]=m=>v.value=2),class:"button"},"All")]),s("div",Zs,[(i(!0),r(W,null,X(g(T),m=>(i(),r("div",{class:"column is-3-desktop is-6-tablet is-12-mobile",key:m.id},[k(qs,{task:m},null,8,["task"])]))),128))])])]))}},ee=S(se,[["__scopeId","data-v-a66b3a1f"]]),ne={__name:"Home",setup(n){return(e,o)=>(i(),r("div",null,[k(ps),k(ee),k(ws)]))}};export{ne as default};
